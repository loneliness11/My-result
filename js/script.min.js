const menu=document.querySelector(".header__nav"),menuBtn=document.querySelector(".header__burger"),body=document.body;function initOrderSelects(){let e=document.querySelectorAll(".order-select");e.forEach(t=>{let r=t.querySelector(".order-select__trigger"),n=t.querySelectorAll(".order-select__option"),l=t.querySelector(".hidden-select"),s=r.querySelector("span");r.addEventListener("click",function(r){r.stopPropagation(),e.forEach(e=>{e!==t&&e.classList.remove("is-open")}),t.classList.toggle("is-open")}),n.forEach(e=>{e.addEventListener("click",function(e){e.stopPropagation(),n.forEach(e=>e.classList.remove("is-selected")),this.classList.add("is-selected"),s.textContent=this.textContent,r.classList.remove("placeholder"),l&&(l.value=this.dataset.value,l.dispatchEvent(new Event("change"))),t.classList.remove("is-open")})})}),document.addEventListener("click",function(t){e.forEach(e=>{e.contains(t.target)||e.classList.remove("is-open")})}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e.forEach(e=>{e.classList.remove("is-open")})})}function initOrderRangeSliders(){let e=document.querySelectorAll(".order__range-slider");e.forEach(e=>{let t=e.querySelector(".order__range-input"),r=e.querySelector(".order__range-fill"),n=e.querySelector(".order__range-thumb"),l=e.parentElement.querySelector(".order__range-value");function s(){let e=t.value,s=t.min||0,o=t.max||100,i=(e-s)/(o-s)*100;r.style.width=i+"%",n.style.left=i+"%",l&&(l.textContent=e+" %")}s(),t.addEventListener("input",s)})}menu&&menuBtn&&(menuBtn.addEventListener("click",()=>{menu.classList.toggle("active"),menuBtn.classList.toggle("active"),body.classList.toggle("lock")}),menu.querySelectorAll(".header__link").forEach(e=>{e.addEventListener("click",()=>{menu.classList.remove("active"),menuBtn.classList.remove("active"),body.classList.remove("lock")})})),document.addEventListener("DOMContentLoaded",initOrderSelects),document.addEventListener("DOMContentLoaded",initOrderRangeSliders),document.querySelectorAll(".order__file-input").forEach(e=>{e.addEventListener("change",function(){let e=this.closest(".order__file-wrapper"),t=e.querySelector(".order__file-status");if(this.files.length>0){let r=this.files[0].name;t.textContent=`Файл "${r}" успешно прикреплен`}else t.textContent=""})}),document.querySelector(".order__form").addEventListener("submit",function(e){let t=new FormData(this),r=this.querySelector(".order__range-input").value;console.log("===== ДАННЫЕ ФОРМЫ ====="),console.log("Система:",t.get("system")),console.log("Email:",t.get("email")),console.log("Имя:",t.get("name")),console.log("Range значение:",r),console.log("Файл:",t.get("file"));let n=t.get("file"),l="Не прикреплен";n&&n.size>0&&(l=`${n.name} (${(n.size/1024).toFixed(2)} KB)`),alert(`Данные формы:
    Система: ${t.get("system")||"Не выбрано"}
    Email: ${t.get("email")||"Не заполнено"}
    Имя: ${t.get("name")||"Не заполнено"}
    Прогресс: ${r}%
    Файл: ${l}`)});